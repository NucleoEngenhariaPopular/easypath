{
  "first_node_id": "welcome",
  "nodes": [
    {
      "id": "welcome",
      "node_type": "start",
      "prompt": {
        "context": "In√≠cio da conversa - estabelecer rapport e explicar o objetivo",
        "objective": "Dar boas-vindas calorosas e explicar que vamos ajudar a descobrir lugares interessantes na cidade do usu√°rio",
        "notes": "Seja entusiasmado e acolhedor. Criar expectativa positiva sobre as recomenda√ß√µes personalizadas.",
        "examples": "Ol√°! üëã Sou seu assistente pessoal para descobrir lugares incr√≠veis! Vou te ajudar a encontrar os melhores restaurantes, atra√ß√µes e atividades na sua cidade. Vamos come√ßar?"
      },
      "is_start": true,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.3,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    },
    {
      "id": "collect-name",
      "node_type": "extraction",
      "prompt": {
        "context": "Coleta do nome do usu√°rio com extra√ß√£o autom√°tica",
        "objective": "Perguntar o nome de forma amig√°vel e confirmar quando extra√≠do com sucesso",
        "notes": "Se o nome n√£o for fornecido claramente, perguntar novamente de forma educada. Quando extra√≠do, confirmar de forma calorosa usando o nome.",
        "examples": "Para come√ßar, qual √© o seu nome? | Prazer em conhec√™-lo, {user_name}! | Desculpe, n√£o consegui entender seu nome. Pode repetir para mim?"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [
        {
          "name": "user_name",
          "description": "Nome completo ou primeiro nome do usu√°rio",
          "required": true,
          "var_type": "string"
        }
      ],
      "temperature": 0.2,
      "skip_user_response": false,
      "loop_enabled": true,
      "loop_condition": "Permanece neste n√≥ at√© que o user_name seja fornecido. O motor de extra√ß√£o mant√©m o loop interno automaticamente."
    },
    {
      "id": "collect-city",
      "node_type": "extraction",
      "prompt": {
        "context": "Coleta da cidade do usu√°rio com extra√ß√£o autom√°tica",
        "objective": "Perguntar a cidade usando o nome do usu√°rio, e confirmar quando extra√≠do com sucesso",
        "notes": "Usar o {user_name} para personalizar. Pedir explicitamente a cidade onde mora. Se n√£o estiver claro, perguntar novamente. Quando completo, confirmar de forma entusiasmada.",
        "examples": "√ìtimo, {user_name}! Agora me diz: em qual cidade voc√™ mora? | Perfeito! Ent√£o voc√™ est√° em {user_city}! | Desculpe, n√£o entendi. Qual √© a sua cidade?"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [
        {
          "name": "user_city",
          "description": "Nome da cidade onde o usu√°rio mora",
          "required": true,
          "var_type": "string"
        }
      ],
      "temperature": 0.2,
      "skip_user_response": false,
      "loop_enabled": true,
      "loop_condition": "Permanece neste n√≥ at√© que user_city seja fornecida. O motor de extra√ß√£o mant√©m o loop interno automaticamente."
    },
    {
      "id": "recommendations",
      "node_type": "recommendation",
      "prompt": {
        "context": "Recomenda√ß√µes personalizadas de lugares e atividades na cidade do usu√°rio",
        "objective": "Dar sugest√µes espec√≠ficas e relevantes de restaurantes, pontos tur√≠sticos, parques e atividades baseadas na cidade do usu√°rio",
        "notes": "IMPORTANTE: Usar {user_name} para personalizar. Mencionar especificamente {user_city} nas sugest√µes. Dar pelo menos 3-5 sugest√µes concretas com nomes reais de lugares (se conhecidos) ou tipos espec√≠ficos de estabelecimentos. Incluir variedade: gastronomia, cultura, lazer ao ar livre.",
        "examples": "√ìtimas not√≠cias, {user_name}! Baseado em {user_city}, aqui est√£o sugest√µes incr√≠veis para voc√™:\n\nüçΩÔ∏è **Gastronomia:**\n- [restaurantes t√≠picos da regi√£o]\n- [cafeterias charmosas]\n- [bares e pubs locais]\n\nüé≠ **Cultura e Lazer:**\n- [museus e centros culturais]\n- [teatros e cinemas]\n- [eventos locais]\n\nüå≥ **Ao Ar Livre:**\n- [parques e pra√ßas]\n- [trilhas e √°reas naturais]\n- [atividades recreativas]\n\nEspero que aproveite essas sugest√µes!"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.5,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    },
    {
      "id": "farewell",
      "node_type": "end",
      "prompt": {
        "context": "Despedida personalizada usando as informa√ß√µes do usu√°rio",
        "objective": "Criar uma despedida calorosa e memor√°vel, incentivando o usu√°rio a voltar",
        "notes": "Usar {user_name} e {user_city} para personalizar. Deixar a porta aberta para conversas futuras.",
        "examples": "Foi um prazer ajudar voc√™, {user_name}! üåü\n\nEspero que aproveite todas as experi√™ncias incr√≠veis que {user_city} tem a oferecer. Se precisar de mais dicas ou quiser descobrir lugares novos, √© s√≥ me chamar!\n\nAt√© a pr√≥xima! ‚ú®"
      },
      "is_start": false,
      "is_end": true,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.3,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    }
  ],
  "connections": [
    {
      "id": "c1",
      "label": "start-conversation",
      "description": "Iniciar processo de coleta de informa√ß√µes",
      "else_option": false,
      "source": "welcome",
      "target": "collect-name"
    },
    {
      "id": "c2",
      "label": "name-collected",
      "description": "Nome foi extra√≠do com sucesso, prosseguir para localiza√ß√£o",
      "else_option": false,
      "source": "collect-name",
      "target": "collect-city"
    },
    {
      "id": "c3",
      "label": "city-collected",
      "description": "Cidade extra√≠da com sucesso, fornecer recomenda√ß√µes personalizadas",
      "else_option": false,
      "source": "collect-city",
      "target": "recommendations"
    },
    {
      "id": "c4",
      "label": "done",
      "description": "Recomenda√ß√µes fornecidas, finalizar conversa",
      "else_option": false,
      "source": "recommendations",
      "target": "farewell"
    }
  ],
  "global_objective": "Coletar o nome e cidade do usu√°rio atrav√©s de extra√ß√£o autom√°tica de vari√°veis, e usar essas informa√ß√µes para fornecer recomenda√ß√µes altamente personalizadas de lugares e atividades na regi√£o",
  "global_tone": "amig√°vel, entusiasmado e prestativo",
  "global_language": "pt-BR",
  "global_behaviour": "personalizado e atencioso - sempre usar o nome do usu√°rio e mencionar sua cidade nas respostas",
  "global_values": "personaliza√ß√£o atrav√©s de dados extra√≠dos, utilidade pr√°tica, e experi√™ncia conversacional natural"
}
