{
  "first_node_id": "welcome",
  "nodes": [
    {
      "id": "welcome",
      "node_type": "start",
      "prompt": {
        "context": "In√≠cio da conversa - estabelecer rapport e explicar o objetivo",
        "objective": "Dar boas-vindas calorosas e explicar que vamos ajudar a descobrir lugares interessantes na cidade do usu√°rio",
        "notes": "Seja entusiasmado e acolhedor. Criar expectativa positiva sobre as recomenda√ß√µes personalizadas.",
        "examples": "Ol√°! üëã Sou seu assistente pessoal para descobrir lugares incr√≠veis! Vou te ajudar a encontrar os melhores restaurantes, atra√ß√µes e atividades na sua cidade. Vamos come√ßar?"
      },
      "is_start": true,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.3,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    },
    {
      "id": "collect-name",
      "node_type": "extraction",
      "prompt": {
        "context": "Coleta do nome do usu√°rio com extra√ß√£o autom√°tica",
        "objective": "Perguntar o nome de forma amig√°vel e confirmar quando extra√≠do com sucesso",
        "notes": "Se o nome n√£o for fornecido claramente, perguntar novamente de forma educada. Quando extra√≠do, confirmar de forma calorosa.",
        "examples": "Para come√ßar, qual √© o seu nome? | Prazer em conhec√™-lo, {user_name}! | Desculpe, n√£o consegui entender seu nome. Pode repetir para mim?"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [
        {
          "name": "user_name",
          "description": "Nome completo ou primeiro nome do usu√°rio",
          "required": true,
          "var_type": "string"
        }
      ],
      "temperature": 0.2,
      "skip_user_response": false,
      "loop_enabled": true,
      "loop_condition": "Continuar pedindo o nome at√© que seja fornecido claramente pelo usu√°rio"
    },
    {
      "id": "collect-city",
      "node_type": "extraction",
      "prompt": {
        "context": "Coleta da localiza√ß√£o do usu√°rio (cidade e estado) com extra√ß√£o autom√°tica",
        "objective": "Perguntar cidade e estado usando o nome do usu√°rio, e confirmar quando extra√≠do com sucesso",
        "notes": "Usar o {user_name} para personalizar. Pedir explicitamente cidade E estado. Se algo estiver faltando, perguntar especificamente o que falta. Quando completo, confirmar de forma entusiasmada.",
        "examples": "√ìtimo, {user_name}! Agora preciso saber: em qual cidade e estado voc√™ mora? | Perfeito! Ent√£o voc√™ est√° em {user_city}, {user_state}! | Entendi a cidade, mas pode me dizer o estado tamb√©m?"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [
        {
          "name": "user_city",
          "description": "Nome da cidade onde o usu√°rio mora",
          "required": true,
          "var_type": "string"
        },
        {
          "name": "user_state",
          "description": "Nome do estado (ou sigla UF) onde o usu√°rio mora",
          "required": true,
          "var_type": "string"
        }
      ],
      "temperature": 0.2,
      "skip_user_response": false,
      "loop_enabled": true,
      "loop_condition": "Continuar perguntando at√© ter TANTO a cidade QUANTO o estado do usu√°rio"
    },
    {
      "id": "confirm-info",
      "node_type": "validation",
      "prompt": {
        "context": "Confirma√ß√£o das informa√ß√µes coletadas antes de prosseguir",
        "objective": "Mostrar as informa√ß√µes coletadas de forma clara e perguntar se est√° tudo correto",
        "notes": "Usar TODAS as vari√°veis extra√≠das ({user_name}, {user_city}, {user_state}) para criar uma confirma√ß√£o clara. Se usu√°rio disser que est√° incorreto, direcionar para corre√ß√£o.",
        "examples": "Deixa eu confirmar: voc√™ √© {user_name} e mora em {user_city}, {user_state}. Est√° tudo certo? | Perfeito! Vou buscar as melhores sugest√µes para voc√™!"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.2,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    },
    {
      "id": "recommendations",
      "node_type": "recommendation",
      "prompt": {
        "context": "Recomenda√ß√µes personalizadas de lugares e atividades na cidade do usu√°rio",
        "objective": "Dar sugest√µes espec√≠ficas e relevantes de restaurantes, pontos tur√≠sticos, parques e atividades baseadas na localiza√ß√£o exata do usu√°rio",
        "notes": "IMPORTANTE: Usar {user_name} para personalizar. Mencionar especificamente {user_city} e {user_state} nas sugest√µes. Dar pelo menos 3-5 sugest√µes concretas com nomes reais de lugares (se conhecidos) ou tipos espec√≠ficos de estabelecimentos. Incluir variedade: gastronomia, cultura, lazer ao ar livre.",
        "examples": "√ìtimas not√≠cias, {user_name}! Baseado em {user_city}, {user_state}, aqui est√£o sugest√µes incr√≠veis para voc√™:\n\nüçΩÔ∏è **Gastronomia:**\n- [restaurantes t√≠picos da regi√£o]\n- [cafeterias charmosas]\n- [bares e pubs locais]\n\nüé≠ **Cultura e Lazer:**\n- [museus e centros culturais]\n- [teatros e cinemas]\n- [eventos locais]\n\nüå≥ **Ao Ar Livre:**\n- [parques e pra√ßas]\n- [trilhas e √°reas naturais]\n- [atividades recreativas]\n\nO que te interessa mais?"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.5,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    },
    {
      "id": "offer-more-help",
      "node_type": "message",
      "prompt": {
        "context": "Oferecer ajuda adicional e verificar se usu√°rio quer mais sugest√µes",
        "objective": "Perguntar se o usu√°rio quer explorar mais categorias ou obter detalhes sobre alguma sugest√£o",
        "notes": "Ser receptivo e dar op√ß√µes claras. Mencionar que pode dar mais detalhes sobre qualquer lugar mencionado.",
        "examples": "Quer que eu te conte mais sobre algum desses lugares, {user_name}? Ou prefere que eu sugira outras categorias de atividades em {user_city}?"
      },
      "is_start": false,
      "is_end": false,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.3,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    },
    {
      "id": "farewell",
      "node_type": "end",
      "prompt": {
        "context": "Despedida personalizada usando as informa√ß√µes do usu√°rio",
        "objective": "Criar uma despedida calorosa e memor√°vel, incentivando o usu√°rio a voltar",
        "notes": "Usar {user_name} e {user_city} para personalizar. Deixar a porta aberta para conversas futuras.",
        "examples": "Foi um prazer ajudar voc√™, {user_name}! üåü\n\nEspero que aproveite todas as experi√™ncias incr√≠veis que {user_city} tem a oferecer. Se precisar de mais dicas ou quiser descobrir lugares novos, √© s√≥ me chamar!\n\nAt√© a pr√≥xima! ‚ú®"
      },
      "is_start": false,
      "is_end": true,
      "use_llm": true,
      "is_global": false,
      "extract_vars": [],
      "temperature": 0.3,
      "skip_user_response": false,
      "loop_enabled": false,
      "loop_condition": ""
    }
  ],
  "connections": [
    {
      "id": "c1",
      "label": "start-conversation",
      "description": "Iniciar processo de coleta de informa√ß√µes",
      "else_option": false,
      "source": "welcome",
      "target": "collect-name"
    },
    {
      "id": "c2",
      "label": "name-extracted",
      "description": "Nome foi extra√≠do com sucesso, prosseguir para localiza√ß√£o",
      "else_option": false,
      "source": "collect-name",
      "target": "collect-city"
    },
    {
      "id": "c3",
      "label": "location-extracted",
      "description": "Cidade e estado extra√≠dos com sucesso, confirmar informa√ß√µes",
      "else_option": false,
      "source": "collect-city",
      "target": "confirm-info"
    },
    {
      "id": "c4",
      "label": "info-confirmed",
      "description": "Usu√°rio confirmou que as informa√ß√µes est√£o corretas",
      "else_option": false,
      "source": "confirm-info",
      "target": "recommendations"
    },
    {
      "id": "c5",
      "label": "info-incorrect",
      "description": "Usu√°rio disse que informa√ß√µes est√£o incorretas, voltar para corre√ß√£o",
      "else_option": true,
      "source": "confirm-info",
      "target": "collect-city"
    },
    {
      "id": "c6",
      "label": "recommendations-given",
      "description": "Recomenda√ß√µes fornecidas, perguntar se quer mais ajuda",
      "else_option": false,
      "source": "recommendations",
      "target": "offer-more-help"
    },
    {
      "id": "c7",
      "label": "wants-more-suggestions",
      "description": "Usu√°rio quer mais sugest√µes ou detalhes adicionais",
      "else_option": false,
      "source": "offer-more-help",
      "target": "recommendations"
    },
    {
      "id": "c8",
      "label": "satisfied",
      "description": "Usu√°rio est√° satisfeito e pronto para encerrar",
      "else_option": true,
      "source": "offer-more-help",
      "target": "farewell"
    },
    {
      "id": "c9",
      "label": "correct-name",
      "description": "Usu√°rio quer corrigir o nome durante confirma√ß√£o",
      "else_option": true,
      "source": "collect-city",
      "target": "collect-name"
    }
  ],
  "global_objective": "Coletar o nome e localiza√ß√£o (cidade e estado) do usu√°rio atrav√©s de extra√ß√£o autom√°tica de vari√°veis, e usar essas informa√ß√µes para fornecer recomenda√ß√µes altamente personalizadas de lugares e atividades na regi√£o",
  "global_tone": "amig√°vel, entusiasmado e prestativo",
  "global_language": "pt-BR",
  "global_behaviour": "personalizado e atencioso - sempre usar o nome do usu√°rio e mencionar sua cidade nas respostas",
  "global_values": "personaliza√ß√£o atrav√©s de dados extra√≠dos, utilidade pr√°tica, e experi√™ncia conversacional natural"
}
